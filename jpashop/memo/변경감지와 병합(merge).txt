** 준영속 엔티티
- 영속성 컨텍스트가 더는 관리하지 않는 엔티티를 말한다.
 예) 임의로 만들어낸 엔티티도 기존 식별자를 가지고 있으면 준영속 엔티티로 볼 수 있다. 즉, 내가 new를 통해서 임의로 만들어 놓은 객체인데
DB를 한번 다녀와서 식별자를 가지고 있는 상태일때를 준영속 엔티티라 한다. JPA가 관리하지 않기 때문에 값이 수정되어도 알지 못하는 상태이다.

- 준영속 엔티티를 수정하는 2가지 방법
1. 변경 감지 기능 사용 (원하는 속성만 선택해서 변경할 수 있다)  => 권장
 - 자바코드에서 식별자를 통해서 영속 엔티티를 조회해서 가져온다.
 - 값을 수정한다.
 - 트랜잭션 커밋 시점에 변경 감지 기능이 동작해서 데이터베이스에 update sql이 실행


2. 병합(merge) 사용 (병합은 모든 속성이 변경된다. 병합시 값이 없으면 null로 업데이트 할 위험도 있다)   => 사용하지 말자
 - entityManager.merge(준영속 엔티티)
 - 파라미터로 넘오온 준영속 엔티티의 식별자 값으로 1차 캐시에서 엔티티 조회
 - 1차 캐시에 엔티티가 없으면 DB에서 조회하고 1차 캐시에 저장
 - 영속 엔티티의 값을 준영속 엔티티의 값으로 모두 교체한다(병합한다)
 - 트랜잭션 커밋 시점에 변경 감지 기능이 동작해서 데이터베이스에 update sql이 실행



** 트랜잭션안에서 조회를해야 영속상태의 엔티티가 된다.
** 컨트롤러에서 어설프게 엔티티를 생성하지 말자!
** 수정시 setter로 값을 수정하지말고 엔티티에서 바로 추적할 수 있도록 의미있는 메서드를 만들어서 사용할 것!
예) change(parameter)
** Controller에서는 식별자만 넘기고 Service로직에서 조회해서 엔티티를 사용할것. 그래야 트랜잭션안에서 조회해서 영속엔티티를 사용할 수 있음